var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,d){a instanceof String&&(a=String(a));for(var g=a.length,c=0;c<g;c++){var h=a[c];if(e.call(d,h,c,a))return{i:c,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,d){a!=Array.prototype&&a!=Object.prototype&&(a[e]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,d,g){if(e){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var c=a[g];c in d||(d[c]={});d=d[c]}a=a[a.length-1];g=d[a];e=e(g);e!=g&&null!=e&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,d){return a===d?0!==a||1/a===1/d:a!==a&&d!==d}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,d){var e=this;e instanceof String&&(e=String(e));var c=e.length;d=d||0;for(0>d&&(d=Math.max(d+c,0));d<c;d++){var h=e[d];if(h===a||Object.is(h,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,e,d){if(null==a)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,d){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,d||0)}},"es6","es3");
(function(a){a.fn.NetopesHierarchicalTexts=function(e){function d(b,f){c=f;a(b).data("_NetopesHierarchicalTextsConfig",c);a(b).find(".hTextsActions .hTextsActionButton").on("click",function(){k(b,this)});a(b).find(".hTextsData button.hTextsEditButton").on("click",function(){n(b,this)});a(b).find(".hTextsData button.hTextsDeleteButton").on("click",function(){p(b,this)});a(b).find(".hTextsEditActions button.hTextsSaveButton").on("click",function(){k(b,this)});a(b).find(".hTextsEditActions button.hTextsCancelButton").on("click",
function(){a(b).find(".hTextsInput #"+c.tagId+"_hId").first().val("");h(b,"");a(this).parents(".hTextsEditActions").hide()});c.sortableTexts&&a(b).find(".hTextsData ul.hSections ul.hTexts").sortable({revert:!0,placeholder:"ui-state-highlight"});c.sortableSections&&a(b).find(".hTextsData ul.hSections").sortable({revert:!0,placeholder:"ui-state-highlight"})}var g={tagId:null,tagName:null,textEditorType:"textarea",showEmptySections:!1,sortableSections:!1,sortableTexts:!1,fieldErrorClass:"",editButtonClass:"btn btn-primary",
deleteButtonClass:"btn btn-danger",deleteConfirmText:"Are you sure you want to delete item?",deleteConfirmTitle:"Action confirm",deleteConfirmOkLabel:"OK",deleteConfirmCancelLabel:"Cancel",requiredSectionClass:"",requiredSectionMarker:""},c=!1,h=function(b,f){"ckeditor"===c.textEditorType?SetCkEditorData(c.tagId+"_hValue",f):a(b).find(".hTextsInput #"+c.tagId+"_hValue").first().val(f.replaceAll("<br>","\n"))},t=function(b,f,d,e,g,h){a(b).find(".hTextsData ul.hSections li.hItemSection.empty").remove();
var m='<li class="hItemSection'+(c.sortableSections?" sortable":"")+'" data-id="'+f+'" data-required="'+g+'" data-position="'+h+'">';m="1"===g.toString()?m+('<span class="hItemTitle '+c.requiredSectionClass+'">'+d+c.requiredSectionMarker+"</span>"):m+('<span class="hItemTitle">'+d+"</span>");m+='<input type="hidden" class="postable" name="'+c.tagName+"["+f+'][id]" value="'+f+'"><input type="hidden" class="postable" name="'+c.tagName+"["+f+'][name]" value="'+d+'"><input type="hidden" class="postable" name="'+
c.tagName+"["+f+'][code]" value="'+e+'"><input type="hidden" class="postable" name="'+c.tagName+"["+f+'][required]" value="'+g+'"><input type="hidden" class="postable" name="'+c.tagName+"["+f+'][position]" value="'+h+'"><ul class="hTexts"></ul></li>';var l=a(m);if(isNaN(parseInt(h)))a(b).find(".hTextsData ul.hSections").append(l);else{var q=!1,k=0;a(b).find(".hTextsData ul.hSections li.hItemSection").each(function(){if(isNaN(parseInt(a(this).data("position")))||parseInt(h)<parseInt(a(this).data("position")))return a(this).before(l),
q=!0,!1;k++});q||(0<k?a(b).find(".hTextsData ul.hSections").append(l):a(b).find(".hTextsData ul.hSections").prepend(l))}c.sortableTexts&&a(l).find("ul.hTexts").sortable({revert:!0,placeholder:"ui-state-highlight"});return l},u=function(b,f,d){f=a('<li class="hItem'+(c.sortableTexts?" sortable":"")+'" data-id="'+f+'"><div class="hItemData postable" name="'+c.tagName+"["+f+'][data][]">'+d+'</div><div class="hItemEditActions"></div><div class="hItemDeleteActions"></div></li>');a(f).find(".hItemEditActions").append(a('<button class="'+
c.editButtonClass+' hTextsEditButton"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>').on("click",function(){n(b,this)}));a(f).find(".hItemDeleteActions").append(a('<button class="'+c.deleteButtonClass+' hTextsDeleteButton"><i class="fa fa-trash" aria-hidden="true"></i></button>').on("click",function(){p(b,this)}));return f},n=function(b,f){f=a(f).parents("li.hItem");var d=a(f).find(".hItemData").first().html();a(b).find(".hTextsInput #"+c.tagId+"_hId").first().val(a(f).data("id")+
"|"+a(f).index());h(b,d);a(b).find(".hTextsEditActions").show()},p=function(b,f){ShowConfirmDialog(c.deleteConfirmText,function(){var b=a(f).parents("li.hItemSection");a(f).parents("li.hItem").remove();"1"===a(b).data("required").toString()||c.showEmptySections||0!==a(b).find("ul.hTexts > li.hItem").length||a(b).remove()},!1,{title:c.deleteConfirmTitle,ok:c.deleteConfirmOkLabel,cancel:c.deleteConfirmCancelLabel})},k=function(b,f){var d="ckeditor"===c.textEditorType?GetCkEditorData(c.tagId+"_hValue"):
a(b).find(".hTextsInput #"+c.tagId+"_hValue").first().val().replace(/(?:\r\n|\r|\n)/g,"<br>");a(b).find(".hTextsInput #"+c.tagId+"_hValue").removeClass(c.fieldErrorClass);if(""===d.trim())a(b).find(".hTextsInput #"+c.tagId+"_hValue").addClass(c.fieldErrorClass);else{var e=a(b).find(".hTextsInput #"+c.tagId+"_hId").first().val();if(0<e.length&&e.includes("|")){var g=e.split("|")[0];e=parseInt(e.split("|")[1]);if(isNaN(e)){console.log("Invalid text item index!");return}e+=1;a(b).find('.hTextsData ul.hSections li.hItemSection[data-id="'+
g+'"] ul.hTexts li.hItem:nth-child('+e+") .hItemData").html(d)}else{g=a(f).data("id");if(!g){console.log("Invalid save action!");return}e=a(b).find('.hTextsData ul.hSections li.hItemSection[data-id="'+g+'"]').first();if(0===e.length){e=a(f).text();var k=a(f).data("code")||"";e=t(b,g,e,k,a(f).data("required"),a(f).data("position"))}e.find("ul.hTexts").append(u(b,g,d))}a(b).find(".hTextsInput #"+c.tagId+"_hId").val("");h(b,"");a(f).parents(".hTextsEditActions").hide();a(b).find(".hTextsActions .hTextsActionButton").prop("disabled",
!1)}},r={setValueForSection:function(b,c,d){h(b,c);a(b).find(".hTextsActions .hTextsActionButton").each(function(){a(this).data("id")!==d&&a(this).prop("disabled","disabled")})},setDisabled:function(b,d){!0===d||"true"===d||1===d||"1"===d?(a(b).attr("data-disabled","disabled"),a(b).find(".hTextsActions .hTextsActionButton").prop("disabled","disabled"),a(b).find(".hTextsData button.hTextsEditButton").prop("disabled","disabled"),a(b).find(".hTextsData button.hTextsDeleteButton").prop("disabled","disabled"),
"ckeditor"===c.textEditorType?SetCkEditorReadonly(c.tagId+"_hValue",!0):a(b).find(".hTextsInput #"+c.tagId+"_hValue").prop("disabled","disabled"),c.sortableTexts&&a(b).find(".hTextsData ul.hSections ul.hTexts").sortable("option","disabled",!0),c.sortableSections&&a(b).find(".hTextsData ul.hSections").sortable("option","disabled",!0)):!1===d||"false"===d||0===d||"0"===d?(a(b).attr("data-disabled",""),a(b).find(".hTextsActions .hTextsActionButton").prop("disabled",!1),a(b).find(".hTextsData button.hTextsEditButton").prop("disabled",
!1),a(b).find(".hTextsData button.hTextsDeleteButton").prop("disabled",!1),"ckeditor"===c.textEditorType?SetCkEditorReadonly(c.tagId+"_hValue",!1):a(b).find(".hTextsInput #"+c.tagId+"_hValue").prop("disabled",!1),c.sortableTexts&&a(b).find(".hTextsData ul.hSections ul.hTexts").sortable("option","disabled",!1),c.sortableSections&&a(b).find(".hTextsData ul.hSections").sortable("option","disabled",!1)):console.log("Invalid setDisabled value ["+d+"]!")}};if("string"===typeof e)if(r[e]){g=Array.prototype.slice.call(arguments,
1);g.unshift(this);if(c=a(this).data("_NetopesHierarchicalTextsConfig"))return r[e].apply(this,g);console.log("Invalid NetopesHierarchicalTexts instance for element ["+a(this).attr("id")+"]!")}else console.log("Invalid or inaccessible method: ["+e+"]!");else{var v="object"===typeof e?a.extend(g,e):g;return this.each(function(){d(this,v)})}}})(jQuery);
