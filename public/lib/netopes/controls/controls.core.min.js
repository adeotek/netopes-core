var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var h=a[e];if(b.call(c,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var h=0;h<e.length-1;h++){var f=e[h];if(!(f in d))return;d=d[f]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):
$jscomp.POLYFILL_PREFIX+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(f){return f instanceof e?f:new e(function(g,k){g(f)})}if(a&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return a;b.prototype.asyncExecute=function(f){if(null==this.batch_){this.batch_=[];var g=this;this.asyncExecuteFunction(function(){g.executeBatch_()})}this.batch_.push(f)};
var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(f){d(f,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var f=this.batch_;this.batch_=[];for(var g=0;g<f.length;++g){var k=f[g];f[g]=null;try{k()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(f){this.asyncExecuteFunction(function(){throw f;})};var e=function(f){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var g=this.createResolveAndReject_();
try{f(g.resolve,g.reject)}catch(k){g.reject(k)}};e.prototype.createResolveAndReject_=function(){function f(l){return function(n){k||(k=!0,l.call(g,n))}}var g=this,k=!1;return{resolve:f(this.resolveTo_),reject:f(this.reject_)}};e.prototype.resolveTo_=function(f){if(f===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof e)this.settleSameAsPromise_(f);else{a:switch(typeof f){case "object":var g=null!=f;break a;case "function":g=!0;break a;default:g=!1}g?this.resolveToNonPromiseObj_(f):
this.fulfill_(f)}};e.prototype.resolveToNonPromiseObj_=function(f){var g=void 0;try{g=f.then}catch(k){this.reject_(k);return}"function"==typeof g?this.settleSameAsThenable_(g,f):this.fulfill_(f)};e.prototype.reject_=function(f){this.settle_(2,f)};e.prototype.fulfill_=function(f){this.settle_(1,f)};e.prototype.settle_=function(f,g){if(0!=this.state_)throw Error("Cannot settle("+f+", "+g+"): Promise already settled in state"+this.state_);this.state_=f;this.result_=g;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};e.prototype.scheduleUnhandledRejectionCheck_=function(){var f=this;d(function(){if(f.notifyUnhandledRejection_()){var g=$jscomp.global.console;"undefined"!==typeof g&&g.error(f.result_)}},1)};e.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var f=$jscomp.global.CustomEvent,g=$jscomp.global.Event,k=$jscomp.global.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):
"function"===typeof g?f=new g("unhandledrejection",{cancelable:!0}):(f=$jscomp.global.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.result_;return k(f)};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var f=0;f<this.onSettledCallbacks_.length;++f)h.asyncExecute(this.onSettledCallbacks_[f]);this.onSettledCallbacks_=null}};var h=new b;e.prototype.settleSameAsPromise_=function(f){var g=this.createResolveAndReject_();
f.callWhenSettled_(g.resolve,g.reject)};e.prototype.settleSameAsThenable_=function(f,g){var k=this.createResolveAndReject_();try{f.call(g,k.resolve,k.reject)}catch(l){k.reject(l)}};e.prototype.then=function(f,g){function k(p,m){return"function"==typeof p?function(r){try{l(p(r))}catch(t){n(t)}}:m}var l,n,q=new e(function(p,m){l=p;n=m});this.callWhenSettled_(k(f,l),k(g,n));return q};e.prototype.catch=function(f){return this.then(void 0,f)};e.prototype.callWhenSettled_=function(f,g){function k(){switch(l.state_){case 1:f(l.result_);
break;case 2:g(l.result_);break;default:throw Error("Unexpected state: "+l.state_);}}var l=this;null==this.onSettledCallbacks_?h.asyncExecute(k):this.onSettledCallbacks_.push(k);this.isRejectionHandled_=!0};e.resolve=c;e.reject=function(f){return new e(function(g,k){k(f)})};e.race=function(f){return new e(function(g,k){for(var l=$jscomp.makeIterator(f),n=l.next();!n.done;n=l.next())c(n.value).callWhenSettled_(g,k)})};e.all=function(f){var g=$jscomp.makeIterator(f),k=g.next();return k.done?c([]):new e(function(l,
n){function q(r){return function(t){p[r]=t;m--;0==m&&l(p)}}var p=[],m=0;do p.push(void 0),m++,c(k.value).callWhenSettled_(q(p.length-1),n),k=g.next();while(!k.done)})};return e},"es6","es3");function ShowLoader(a,b){a="object"==typeof a?a:$("#"+a);0<$(a).length&&(1!==b&&!0!==b&&"1"!==b||$(a).css("height",Math.max($(document).outerHeight(),window.innerHeight)+"px"),$(a).show())}function HideLoader(a){a="object"==typeof a?a:$("#"+a);0<$(a).length&&$(a).hide()}
function OpenUrl(a,b){if(!a)return!1;!0===b||1===b||"1"===b?(window.open(a,"_blank"),window.focus()):window.open(a)}function randerReCaptcha(a,b){grecaptcha&&a&&$("#"+a).length&&(b&&0!==b.length||(b=$("#"+a).data("site-key")),b&&grecaptcha.render(a,{sitekey:b}))}function getReCaptcha(a){if(grecaptcha){var b=grecaptcha.getResponse();if(b.length)return a&&a.length?($("#"+a).val(b),!0):b}return!1}function resetReCaptcha(){grecaptcha&&grecaptcha.reset()}
function GetCurrentLanguageCode(){var a=$("#lang-selector").val();return a.substring(a.indexOf("^",0)+1).toLowerCase()}
function GetNewLanguageLink(a,b,c){var d=a;strpos(a,"^")&&(a=a.substring(a.indexOf("^",0)+1));var e=window.location.href.split(/#/)[0],h=window.location.hash.toString(),f=GetCurrentLanguageCode();void 0!=b&&0<b.length&&(e=e.replace(c,b));a=strpos(e,"/"+f+"/",0)?e.replace("/"+f+"/","/"+a+"/"):strpos(e,"/"+f,0)?e.replace("/"+f,"/"+a+"/"):strpos(e,"language="+f,0)?e.replace("language="+f,"language="+a):strpos(e,"/index.php",0)?e.replace("/index.php","/"+a+"/index.php"):e+("/"==e.charAt(e.length-1)?"":
"/")+a+"/";$("#lang-selector").val(d);return a+h}function SetNewLanguageLink(a,b,c){if(a=GetNewLanguageLink(a,b,c))window.location.href=a}function GetElementValue(a,b){b=b?b:"value";var c="";if(0<$("#"+a).length)switch(b){case "innerHtml":c=$("#"+a).html();break;case "option":c=$("#"+a+" option:selected").text();break;default:c=$("#"+a).val()}return c}
$(document).on("focus",".clsJqDatePicker",function(a){a=GetCurrentLanguageCode();$.datepicker.setDefaults($.datepicker.regional[a]);$(this).attr("data-jqdpparams").length?eval("$(this).datepicker({"+$(this).attr("data-jqdpparams")+"})"):$(this).datepicker()});
$(document).on("focus",".clsJqDateTimePicker",function(a){a=GetCurrentLanguageCode();$.datepicker.setDefaults($.datepicker.regional[a]);$(this).attr("data-jqdpparams").length?eval("$(this).datetimepicker({"+$(this).attr("data-jqdpparams")+"})"):$(this).datetimepicker()});$(document).on("focus",".clsJqTimePicker",function(a){GetCurrentLanguageCode();$(this).attr("data-jqdpparams").length?eval("$(this).timepicker({"+$(this).attr("data-jqdpparams")+"})"):$(this).timepicker()});
$(document).on("focus",".clsSetNumberFormat",function(a){if(1!==$(this).attr("data-anull")||""!==$(this).val())if(a=$(this).attr("data-format")){var b=a.split("|");a=b[2];b=b[3];a=$(this).val().replaceAll(b,"").replaceAll(a,"");$(this).val(a)}});
$(document).on("focusout",".clsSetNumberFormat",function(a){a=$(this).attr("data-anull");if("1"!==a&&"true"!==a||""!==$(this).val()){if($(this).hasClass("clsNumDiscColor")&&(0>$(this).val()?$(this).css("color","#368000"):0<$(this).val()?$(this).css("color","#CF0000"):$(this).css("color","#000000")),a=$(this).attr("data-format")){var b=a.split("|");a=Number(b[0]);var c=b[1],d=b[2];b=b[3];var e=$(this).val();e=e.replaceAll("%","").replaceAll(b,"").replaceAll(d,"");c&&(e=e.replaceAll(c,".").trim());
a=$.number(e,a,c,d)+b;$(this).val(a)}}else $(this).css("color","#000000")});function FormatToNumericValue(a,b,c,d){return a?Number(a.replaceAll(d,"").replaceAll(c,"").replaceAll(b,".")):a}
function GetNumericTextBoxValue(a){var b=null;"object"===typeof a?a.length&&(b=$(a)):"string"===typeof a&&a.length&&(b=$("#"+a));if(null==b)return console.log("Invalid element:"),console.log(a),null;a=b.data("format");if(a.length){var c=a.split("|");a=c[1]||".";var d=c[2]||",";c=c[3]||"";return FormatToNumericValue(b.val(),a,d,c)}return b.val()}
function SetNumericTextBoxValue(a,b){var c=null;"object"===typeof a?a.length&&(c=a):"string"===typeof a&&a.length&&(c=$("#"+a));if(null==c)console.log("Invalid element:"),console.log(a);else if((a=c.data("format"))&&a.length){a=a.split("|");var d=a[3];b=$.number(b,Number(a[0]),a[1],a[2])+d;c.val(b)}}function GetCalculatedValue(a,b){return(a+"").replaceAll(".",b)}
function GroupCheckBoxBaseEvent(a){var b=$(a).data("multiple")?1==$(a).data("multiple"):!1;if(a&&(1!=$(a).val()||0!=b)){var c=$(a).attr("data-id");c&&0<$("#"+c).length&&(b?(b=[],b=""==$("#"+c).val().trim()?[]:$("#"+c).val().trim().split("|"),1==$(a).val()?($(a).val(0),b=b.filter(function(d){return d!=$(a).data("val")})):($(a).val(1),b.push($(a).data("val"))),$("#"+c).val(b.join("|"))):($("#"+c).val($(a).data("val")),$("#"+c+"-container input[type=image].clsGCKBItem").val("0"),$(a).val("1")),$("#"+
c).trigger("change"))}}$(document).on("click",".clsGCKBItem.active",function(a){GroupCheckBoxBaseEvent(this)});$(document).on("keypress",".clsGCKBItem.active",function(a){13==event.keyCode&&GroupCheckBoxBaseEvent(this)});function UnselectGroupCheckBoxes(a,b,c){var d=!0;$("#"+a+" input[type=image]").each(function(){if($(this).attr("id")==b.id&&0!=b.value){if(0<$("#"+c).length){var e=$("#"+$(this).attr("id")+"_value").val();$("#"+c).val(e);d=!1}}else $(this).val(0)});!0===d&&$("#"+c).val("")}
function SetGroupCheckBoxValue(a,b){var c=!1;"object"===typeof a?c=$(a):"string"===typeof a&&(c=$("#"+a));c&&c.length&&(a=$("#"+$(c).attr("id")+"-container"),$(a).find("input[type=image].clsGCKBItem").val("0"),$(c).val(b?b:""),b&&$(a).find("input[type=image].clsGCKBItem[data-val="+b+"]").val("1"))}
function AppendComboBoxItem(a,b,c,d){if(a&&"string"==typeof a&&a.length&&(a=$("#"+a),a.length))if($(a).hasClass("select2-hidden-accessible"))$(a).find("option[value='"+b+"']").length?1==d&&$(a).val(b).trigger("change"):(b=new Option(c?c:"",b,1==d,1==d),$(a).append(b).trigger("change"));else{var e=$(a).find("option[value="+(b?b:"")+"]").first();e.length?e.html(c?c:""):$(a).append('<option value="'+b+'">'+(c?c:"")+"</option>");1==d&&$(a).val(b).trigger("change")}}
function UpdateComboBoxClass(a){$("#"+a+" option").each(function(b){"selected"==$(this).attr("selected")?$("#"+a).addClass($(this).attr("class")):$("#"+a).removeClass($(this).attr("class"))})}
function CBODDBtnClick(a){var b=$("#"+a+"-dropdown");if("none"==$(b).css("display")){var c=$(b).width(),d=$("#"+a+"-cbo").outerWidth(),e=$("#"+a+"-cbo").position();a=e.top+$("#"+a+"-cbo").outerHeight();e=e.left;e+c>window.innerWidth&&window.innerWidth>c&&(e=Math.max(0,e-(c-d)));$(b).css("top",a+"px");$(b).css("left",e+"px");$(b).show()}else $(b).hide()}
function GCBOLoader(a,b){(b=$("#"+b+"-dropdown > .gcbo-loader"))&&0<b.length&&(1==a?($(b).css("padding-top",$(b).outerHeight()/2-16),$(b).show()):$(b).hide())}
function GCBODDBtnClick(a,b){if($("#"+a).attr("disabled"))return!1;var c=$("#"+a+"-dropdown"),d=$("#"+a+"-cbo");if(0===b?0:1===b||"none"==$(c).css("display")){b=$(c).width();var e=$(d).outerWidth(),h=$(d).position(),f=h.top+$(d).outerHeight();h=h.left;h+b>window.innerWidth&&window.innerWidth>b&&(h=Math.max(0,h-(b-e)));$(c).css("top",f+"px");$(c).css("left",h+"px");(1==$(c).attr("data-reload")||$(d).val()!=$("#"+a).attr("data-text"))&&(b=$(d).attr("data-ajax"))&&0<b.length&&($("#"+a+"-gcbo-target").html(""),
$(c).show(),b=GibberishAES.dec(b,a),eval(b),""==$(d).val()&&$(d).val($("#"+a).attr("data-text")));"none"==$(c).css("display")&&$(c).show()}else $(d).val()!=$("#"+a).attr("data-text")&&((a=$("#"+a).attr("data-text"))&&a.length?$(d).val(a):$(d).val("")),$(c).hide()}
function GCBOSetValue(a,b,c,d){if($("#"+a).attr("disabled"))return!1;var e=!1,h=$("#"+a),f=$("#"+a+"-cbo");$(h).val();null==b&&(b=(b=$(h).attr("data-eval"))&&b.length?b:"",e=!0);$(h).val(b);$("#"+a+"-dropdown").attr("data-reload",1);$(f).val(c);$(f).attr("data-value",b);$(h).attr("data-text",c);$("#"+a+"-dropdown .gcbo-selector").each(function(g){1==$(this).val()&&$(this).val("0")});b&&""!=b&&$("#"+a+"-dropdown #"+a+"-"+b+".gcbo-selector").val("1");1==d||1==d?CBODDBtnClick(a):e&&$("#"+a+"-dropdown").hide();
(a=$("#"+a).attr("data-onchange"))&&0<a.length&&eval(a)}
function InitFancyTree(a,b,c,d,e,h,f,g,k,l){if(a&&0!==a.length){var n=nAppBaseUrl+"/aindex.php?namespace="+e;e="";k=k?"&hpc=1":"";if(h||0<h.length)e+="&uid="+h;h="";if("object"===typeof d)for(var q in d)h+="&"+q+"="+d[q];else"string"===typeof d&&(h=d);n=1===f||!0===f?n+("&arhash="+encodeURIComponent(GibberishAES.enc("module="+b+"&method="+c+h+k+e+"&phash="+window.name,"xJS"))):n+("&module="+b+"&method="+c+h+k+e+"&phash="+window.name);$("#"+a).fancytree({checkbox:g||!1,icon:l||!1,selectMode:1,clickFolderMode:1,
debugLevel:0,source:{url:n+"&response_type=json&tree=1"},lazyLoad:function(p,m){m.result={url:n+"&response_type=json&tree=1",data:{key:m.node.key}}},createNode:function(p,m){if(!m.node.data.hasSelectedChild)return!1;$.ajax({url:n+"&response_type=json&tree=1",data:{key:m.node.key},dataType:"json",success:function(r){m.node.addChildren(r)}})},click:function(p,m){$(this).trigger("fancyTree.onclick",m)},dblclick:function(p,m){$(this).trigger("fancyTree.ondblclick",m)},select:function(p,m){$(this).trigger("fancyTree.onselect",
m)}})}}$(document).on("keydown","input.clsGridComboBox[type=text]",function(a){if($("#"+$(this).attr("data-id")).attr("disabled"))return a.preventDefault(),!1;13===a.keyCode?(a=$(this).attr("data-id"),$("#"+a+"-dropdown").attr("data-reload",1),GCBODDBtnClick(a,1)):27===a.keyCode?(a.preventDefault(),GCBODDBtnClick($(this).attr("data-id"),0)):(a.altKey&&(40===a.keyCode||98===a.keyCode)||115===a.keyCode)&&GCBODDBtnClick($(this).attr("data-id"),null)});
$(document).on("keydown","input.clsTreeComboBox[type=text]",function(a){if($("#"+$(this).attr("data-id")).attr("disabled"))return a.preventDefault(),!1;13===a.keyCode||a.altKey&&(40===a.keyCode||98===a.keyCode)||115===a.keyCode?CBODDBtnClick($(this).attr("data-id")):27===a.keyCode&&(a.preventDefault(),$("#"+$(this).attr("data-id")+"-dropdown").hide())});
function SmartCBOInitialize(){$("select.SmartCBO").each(function(a,b){if(!$(b).hasClass("select2-hidden-accessible")){a=$(b).attr("id");var c=$(b).attr("data-smartcbo");if(a&&c){var d={};a=GibberishAES.dec(decodeURIComponent(c),a);try{d=eval(a)}catch(e){console.log(e),console.log(a)}(new Promise(function(e,h){$(b).select2(d);e()})).then(function(){$(b).trigger("select2-loaded")})}}})}
function GetSmartCBOValue(a,b){if(!a)return null;var c=a;"object"!=typeof a&&(c=$("#"+a));if(!$(c).length)return null;a=$(c).val()||"";return Array.isArray(a)&&!0!==b&&1!=b?a=a.join(","):a}function GetSmartCBOText(a,b){if(!a)return null;var c=a;"object"!=typeof a&&(c=$("#"+a));if(!$(c).length)return null;a=$(c).select2("data");if(!Array.isArray(a)||!0===b||1==b)return a;b="";for(c=0;c<a.length;c++)b+=(b.length?", ":"")+(a[c].name||a[c].text);return b}
function SetSmartCBOValue(a,b){if(!a)return!1;var c=a;"object"!=typeof a&&(c=$("#"+a));if(!$(c).length)return!1;"object"==typeof b?(a=new Option(b.name,b.id,!0,!0),$(c).append(a).trigger("change")):$(c).val(b).trigger("change");return!0}function GetSelect2Val(a,b){if(a){var c=a;"object"!==typeof a&&(c=$("#"+a));a=$(c).val()||"";!0!==b&&1!==b&&"object"===typeof a&&(a=a.join(","));return a}}$(document).on("click","div.MainKVL > .KVLAddBtn",function(a){KVLAddElement(this)});
$(document).on("click","div.MainKVL > ul.KVLList > li > .KVLIDelBtn",function(a){KVLRemoveElement(this)});$(document).on("keydown","div.MainKVL > input[type=text].KVLNewKey",function(a){13==a.keyCode&&KVLAddElement(this)});
function KVLAddElement(a){a=$(a).parent();var b=$(a).children("input[type=text].KVLNewKey").first(),c=b.val(),d=b.data("name");d||(d=$(a).attr("name"));c&&c.length&&($(a).find("ul.KVLList span.KVLBlank").addClass("hidden"),$(a).children("ul.KVLList").first().append('<li><label class="KVLILabel">'+c+'</label><input type="text" class="KVLIValue postable" name="'+d+"["+c+']" placeholder="[value]" value=""><button class="KVLIDelBtn"><i class="fa fa-minus-circle"></i></button></li>'),$(b).val(""))}
function KVLRemoveElement(a){if(a=$(a).parent()){var b=$(a).parent();$(a).remove();b&&1>=$(b).find("li").length&&$(b).find("span.KVLBlank").removeClass("hidden")}}function BindShortcuts(a,b){$(document).on("keypress",function(c){13==c.keyCode&&0==$("input:focus[type=text],textarea:focus").length?$("#"+a).click():27==c.keyCode&&(c.preventDefault(),$("#"+b).click())})}$(document).on("keydown",".clsOnEnterAction",function(a){13==a.keyCode&&(a=$(this).attr("data-onenter"))&&eval(a)});
$(document).on("keydown",".clsOnEnterActionButton",function(a){13==a.keyCode&&(a=$(this).attr("data-onenterbtn"))&&($(this).trigger("focusout"),$("#"+a).click())});
function SetFieldErrorClass(a,b,c,d){if(!a)return!1;c=c?c:"clsFieldError";a=$(a);b?b=!0:d?b=!1:(b=a.hasClass("clsNumericTextBox")?0!==GetNumericTextBoxValue(a):a.hasClass("clsSmartComboBox")?!!GetSmartCBOValue(a.attr("id")):a.val()&&0<a.val().length,a.hasClass("clsCkEditor")&&(a=a.parent().find("#cke_"+a.attr("id")+" .cke_contents .cke_wysiwyg_div")));b?(a.removeClass(c),a.hasClass("clsSmartComboBox")&&(b=a.data("select2"))&&b.$selection.removeClass(c)):(a.addClass(c),a.hasClass("clsSmartComboBox")&&
(b=a.data("select2"))&&b.$selection.addClass(c));return!0}function AddClassOnErrorByParent(a,b,c,d){$("#"+a+" .clsRequiredField").each(function(){$(this).hasClass("select2-selection")||SetFieldErrorClass(this,b,c,d)})}function AddClassOnError(a,b,c,d){SetFieldErrorClass($("#"+a),b,c,d)}function AddClassOnErrorByName(a,b,c,d,e){$("#"+a+' [name="'+b+'"]').each(function(){$(this).hasClass("select2-selection")||SetFieldErrorClass(this,c,d,e)})}
function CheckIfEnter(a){a&&a.which?a=a.which:(a=event,a=a.keyCode);return 13==a?!0:!1}$(document).on("keydown",".clsSetNoNumericValidation",function(a){var b=a.which||a.keyCode||a.charCode||0;(48<=b&&57>=b||96<=b&&105>=b)&&a.preventDefault()});
$(document).on("keydown",".clsSetNumericValidation",function(a){var b=a.which||a.keyCode||a.charCode||0;if(!(a.ctrlKey||a.altKey||-1!==$.inArray(b,[0,8,9,13,16,27,33,34,35,36,37,38,39,40,45,46])||!a.shiftKey&&96<=b&&105>=b||!a.shiftKey&&48<=b&&57>=b||!a.shiftKey&&(189==b||109==b)&&0==this.selectionStart&&2>this.value.split("-").length)){var c=$(this).attr("data-format"),d=!1;c&&(c=c.split("|"),0!==c[0]&&(d=c[1]));(a.shiftKey||188!=b||","!=d||-1!=this.value.indexOf(d))&&(a.shiftKey||190!=b&&110!=b||
"."!=d||-1!=this.value.indexOf(d))&&a.preventDefault()}});$(document).on("keydown",".clsSetPhoneValidation",function(a){var b=a.which||a.keyCode||a.charCode||0;a.ctrlKey||a.altKey||-1!==$.inArray(b,[0,8,9,13,16,27,32,33,34,35,36,37,38,39,40,45,46])||!a.shiftKey&&$.inArray(b,!0)||!a.shiftKey&&96<=b&&105>=b||!a.shiftKey&&48<=b&&57>=b||!a.shiftKey&&107==b||a.shiftKey&&187==b&&0==this.selectionStart&&2>this.value.split("+").length||a.preventDefault()});
$(document).on("focusout",".clsSetUcFirst",function(a){a=$(this).val().ucfirst(!1);$(this).val(a)});$(document).on("focusout",".clsSetUcFirstAll",function(a){a=$(this).val().ucfirst(!0);$(this).val(a)});function AnimatedHide(a,b,c){0<$("#"+a).length&&(c=c?c:600,1==b?$("#"+a).hide(c):$("#"+a).show(c))}
function AnimatedHideWithSave(a,b,c){0<$("#"+a).length&&(c=c?c:600,1===$("#"+b).val()?$("#"+a).hide(c):$("#"+a).show(c),"undefined"!==typeof Storage?localStorage.setItem(b,$("#"+b).val()+"|"+a):(c=new Date,c.setMonth(c.getMonth()+6),document.cookie=b+"="+$("#"+b).val()+"|"+a+"; expires="+c.toGMTString()+"; path=/; domain="+location.host+";"))}
function CreateCkEditor(a,b,c,d,e,h){if(c)for(b=b.split(","),c=0;c<b.length;c++)CreateCkEditor(a,b[c],!1,d,e,h);else if(b&&0!==b.length){a=window.ckei_list;if(void 0===a||null===a||"object"!=typeof a)a=[];d="object"==typeof d?d:{};e&&(d.width=e);h&&(d.height=h);CKEDITOR.instances[b]&&CKEDITOR.instances[b].destroy(!0);CKEDITOR.replace(b,d);-1===$.inArray(b,a)&&a.push(b);window.ckei_list=a}}
function DestroyCkEditors(a,b){if(b&&0!==b.length&&(a=$("#"+b))){var c=window.ckei_list;if(void 0!==c&&null!==c&&"object"==typeof c&&0!==c.length){b=[];for(var d={$jscomp$loop$prop$i$5:0};d.$jscomp$loop$prop$i$5<c.length;d={$jscomp$loop$prop$i$5:d.$jscomp$loop$prop$i$5,$jscomp$loop$prop$dropped$6:d.$jscomp$loop$prop$dropped$6},d.$jscomp$loop$prop$i$5++)d.$jscomp$loop$prop$dropped$6=!1,a.find("#"+c[d.$jscomp$loop$prop$i$5]).each(function(e){return function(){var h=CKEDITOR.instances[c[e.$jscomp$loop$prop$i$5]];
h&&h.destroy(!0);e.$jscomp$loop$prop$dropped$6=!0}}(d)),d.$jscomp$loop$prop$dropped$6||b.push(c[d.$jscomp$loop$prop$i$5]);window.ckei_list=b}}}
function DestroyCkEditor(a,b,c){if(b)if(c)for(b=b.split(","),c=0;c<b.length;c++)DestroyCkEditor(a,b[c],!1);else a=window.ckei_list,(c=CKEDITOR.instances[b])&&c.destroy(!0),void 0!==a&&null!==a&&"object"==typeof a&&-1!==$.inArray(b,a)&&(a.splice(a.indexOf(b),1),window.ckei_list=a);else if(a=window.ckei_list,void 0!==a&&null!==a&&"object"==typeof a&&0!==a.length){for(b=0;b<a.length;b++)(c=CKEDITOR.instances[a[b]])&&c.destroy(!0);window.ckei_list=[]}}
function GetCkEditorData(a){"object"===typeof a&&(a=a.getAttribute("id"));return(a=CKEDITOR.instances[a])?a.getData():""}function SetCkEditorData(a,b){"object"===typeof a&&(a=a.getAttribute("id"));(a=CKEDITOR.instances[a])&&a.setData(b)}function InsertCkEditorData(a,b){"object"===typeof a&&(a=a.getAttribute("id"));(a=CKEDITOR.instances[a])&&a.insertHtml(b)}
function SetCkEditorReadonly(a,b){"object"===typeof a&&(a=a.getAttribute("id"));(a=CKEDITOR.instances[a])&&a.setReadOnly(!0===b||"true"===b||1===b||"1"===b)}function AppendCkEditorData(a,b){"object"===typeof a&&(a=a.getAttribute("id"));(a=CKEDITOR.instances[a])&&a.insertHtml(b)}
function CreateFileUploader(a,b){if(1===b)a?$("#"+a+" .clsFileUploader").each(function(d){CreateFileUploader(this,0)}):$(".clsFileUploader").each(function(d){CreateFileUploader(this,0)});else if(a){var c=null;c="object"===typeof a?$(a):$("#"+a);a=!1;$(c).parent().hasClass("clsDropArea")&&($(document).on("drop dragover",function(d){d.preventDefault()}),a=$(c).parent());$(c).fileupload({dataType:"json",dropZone:a,formData:[{name:"targetdir",value:$(c).attr("data-targetdir")},{name:"subfolder",value:$(c).attr("data-subfolder")}],
start:function(d){(d=$(c).attr("data-statusid"))&&$("#"+d).length&&$("#"+d).css("display","")},done:function(d,e){(d=$(c).attr("data-statusid"))&&$("#"+d).length&&$("#"+d).css("display","none");if(e.result.files[0].error&&""!==e.result.files[0].error)ShowErrorDialog("Upload failed: "+e.result.files[0].error);else if(d=$(c).attr("data-callback"))d=GibberishAES.dec(decodeURIComponent(d),"HTML"),d instanceof Function?d(e.result.files[0].name,e.files[0].name,this):(d=d.replace("&amp;namespace=","&namespace="),
d=d.replaceAll("#uploadedFile#",e.result.files[0].name),d=d.replaceAll("#originalFile#",e.files[0].name),eval(d))},fail:function(d,e){ShowErrorDialog("Upload failed: "+e.errorThrown+" (Status: "+e.textStatus+")")}})}else return!1}
function TreeGridViewAction(a,b,c,d,e){e||(e=b);0!=d&&1!=d&&(d=1==$(a).val()?0:1);e==b&&$(a).val(d);$("table#"+c+" > tbody > tr.clsTreeGridChildOf"+b).each(function(){1==d?$(this).show():$(this).hide();a=$(this).find("input.clsTreeGridBtn").first();"object"==typeof a&&(b=$(this).attr("data-id"))&&TreeGridViewAction(a,b,c,1==d?$(a).val():0,e)})};
