var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
function ShowLoader(a,b){a="object"==typeof a?a:$("#"+a);0<$(a).length&&(1!==b&&!0!==b&&"1"!==b||$(a).css("height",Math.max($(document).outerHeight(),window.innerHeight)+"px"),$(a).show())}function HideLoader(a){a="object"==typeof a?a:$("#"+a);0<$(a).length&&$(a).hide()}function OpenUrl(a,b){if(!a)return!1;!0===b||1===b||"1"===b?(window.open(a,"_blank"),window.focus()):window.open(a)}
function randerReCaptcha(a,b){grecaptcha&&a&&$("#"+a).length&&(b&&0!==b.length||(b=$("#"+a).data("site-key")),b&&grecaptcha.render(a,{sitekey:b}))}function getReCaptcha(a){if(grecaptcha){var b=grecaptcha.getResponse();if(b.length)return a&&a.length?($("#"+a).val(b),!0):b}return!1}function resetReCaptcha(){grecaptcha&&grecaptcha.reset()}function GetCurrentLanguageCode(){var a=$("#lang-selector").val();return a.substring(a.indexOf("^",0)+1).toLowerCase()}
function GetNewLanguageLink(a,b,c){var d=a;strpos(a,"^")&&(a=a.substring(a.indexOf("^",0)+1));var e=window.location.href.split(/#/)[0],f=window.location.hash.toString(),g=GetCurrentLanguageCode();void 0!=b&&0<b.length&&(e=e.replace(c,b));a=strpos(e,"/"+g+"/",0)?e.replace("/"+g+"/","/"+a+"/"):strpos(e,"/"+g,0)?e.replace("/"+g,"/"+a+"/"):strpos(e,"language="+g,0)?e.replace("language="+g,"language="+a):strpos(e,"/index.php",0)?e.replace("/index.php","/"+a+"/index.php"):e+("/"==e.charAt(e.length-1)?"":
"/")+a+"/";$("#lang-selector").val(d);return a+f}function SetNewLanguageLink(a,b,c){if(a=GetNewLanguageLink(a,b,c))window.location.href=a}function GetElementValue(a,b){b=b?b:"value";var c="";if(0<$("#"+a).length)switch(b){case "innerHtml":c=$("#"+a).html();break;case "option":c=$("#"+a+" option:selected").text();break;default:c=$("#"+a).val()}return c}
$(document).on("focus",".clsJqDatePicker",function(a){a=GetCurrentLanguageCode();$.datepicker.setDefaults($.datepicker.regional[a]);$(this).attr("data-jqdpparams").length?eval("$(this).datepicker({"+$(this).attr("data-jqdpparams")+"});"):$(this).datepicker()});
$(document).on("focus",".clsJqDateTimePicker",function(a){a=GetCurrentLanguageCode();$.datepicker.setDefaults($.datepicker.regional[a]);$(this).attr("data-jqdpparams").length?eval("$(this).datetimepicker({"+$(this).attr("data-jqdpparams")+"});"):$(this).datetimepicker()});$(document).on("focus",".clsJqTimePicker",function(a){GetCurrentLanguageCode();$(this).attr("data-jqdpparams").length?eval("$(this).timepicker({"+$(this).attr("data-jqdpparams")+"});"):$(this).timepicker()});
$(document).on("focus",".clsSetNumberFormat",function(a){if(1!==$(this).attr("data-anull")||""!==$(this).val())if(a=$(this).attr("data-format"))a=a.split("|"),a=$(this).val().replaceAll(a[3],"").replaceAll(a[2],""),$(this).val(a)});
$(document).on("focusout",".clsSetNumberFormat",function(a){a=$(this).attr("data-anull");if("1"!==a&&"true"!==a||""!==$(this).val()){if($(this).hasClass("clsNumDiscColor")&&(0>$(this).val()?$(this).css("color","#368000"):0<$(this).val()?$(this).css("color","#CF0000"):$(this).css("color","#000000")),a=$(this).attr("data-format")){var b=a.split("|");a=Number(b[0]);var c=b[1],d=b[2];b=b[3];var e=c?$(this).val().replaceAll("%","").replaceAll(d,"").replaceAll(c,".").replaceAll(b,"").trim():$(this).val().replaceAll("%",
"").replaceAll(d,"").replaceAll(b,"").trim();a=$.number(e,a,c,d)+b;$(this).val(a)}}else $(this).css("color","#000000")});function FormatToNumericValue(a,b,c,d){return Number(a.replaceAll(d,"").replaceAll(c,"").replaceAll(b,"."))}
function GetNumericTextboxValue(a){var b=null;"object"===typeof a?a.length&&(b=a):"string"===typeof a&&a.length&&(b=$("#"+a));if(null==b)return console.log("Invalid element:"),console.log(a),null;a=b.data("format");if(a.length){var c=a.split("|");a=c[1]||".";var d=c[2]||",";c=c[3]||"";return FormatToNumericValue(b.val(),a,d,c)}return b.val()}function GetCalculatedValue(a,b){return(a+"").replaceAll(".",b)}
function CheckBoxClickBaseEvent(a,b){if("object"!=typeof a){if(!b||0==b.length)return!1;a=$("#"+b)}1==$(a).val()?$(a).val(0):$(a).val(1);$(a).trigger("change")}function UnselectGroupCheckBoxes(a,b,c){var d=!0;$("#"+a+" input[type=image]").each(function(){if($(this).attr("id")==b.id&&0!=b.value){if(0<$("#"+c).length){var a=$("#"+$(this).attr("id")+"_value").val();$("#"+c).val(a);d=!1}}else $(this).val(0)});!0===d&&$("#"+c).val("")}
function GroupCheckBoxBaseEvent(a){if(a&&"1"!=$(a).val()){var b=$(a).attr("data-id");b&&0<$("#"+b).length&&($("#"+b).val($(a).attr("data-val")),$("#"+b+"-container input[type=image].clsGCKBItem").val("0"),$(a).val("1"),$("#"+b).trigger("change"))}}$(document).on("click",".clsGCKBItem.active",function(a){GroupCheckBoxBaseEvent(this)});$(document).on("keypress",".clsGCKBItem.active",function(a){13==event.keyCode&&GroupCheckBoxBaseEvent(this)});
function AppendComboBoxItem(a,b,c,d){if(a&&"string"==typeof a&&a.length&&(a=$("#"+a),a.length))if($(a).hasClass("select2-hidden-accessible"))$(a).find("option[value='"+b+"']").length?1==d&&$(a).val(b).trigger("change"):(b=new Option(c?c:"",b,1==d,1==d),$(a).append(b).trigger("change"));else{var e=$(a).find("option[value="+(b?b:"")+"]").first();e.length?e.html(c?c:""):$(a).append('<option value="'+b+'">'+(c?c:"")+"</option>");1==d&&$(a).val(b).trigger("change")}}
function UpdateComboBoxClass(a){$("#"+a+" option").each(function(b){"selected"==$(this).attr("selected")?$("#"+a).addClass($(this).attr("class")):$("#"+a).removeClass($(this).attr("class"))})}
function CBODDBtnClick(a){var b=$("#"+a+"-dropdown");if("none"==$(b).css("display")){var c=$(b).width(),d=$("#"+a+"-cbo").outerWidth(),e=$("#"+a+"-cbo").position();a=e.top+$("#"+a+"-cbo").outerHeight();e=e.left;e+c>window.innerWidth&&window.innerWidth>c&&(e=Math.max(0,e-(c-d)));$(b).css("top",a+"px");$(b).css("left",e+"px");$(b).show()}else $(b).hide()}
function GCBOLoader(a,b){(b=$("#"+b+"-dropdown > .gcbo-loader"))&&0<b.length&&(1==a?($(b).css("padding-top",$(b).outerHeight()/2-16),$(b).show()):$(b).hide())}
function GCBODDBtnClick(a,b){if($("#"+a).attr("disabled"))return!1;var c=$("#"+a+"-dropdown"),d=$("#"+a+"-cbo");if(0===b?0:1===b||"none"==$(c).css("display")){b=$(c).width();var e=$(d).outerWidth(),f=$(d).position(),g=f.top+$(d).outerHeight();f=f.left;f+b>window.innerWidth&&window.innerWidth>b&&(f=Math.max(0,f-(b-e)));$(c).css("top",g+"px");$(c).css("left",f+"px");(1==$(c).attr("data-reload")||$(d).val()!=$("#"+a).attr("data-text"))&&(b=$(d).attr("data-ajax"))&&0<b.length&&($("#"+a+"-gcbo-target").html(""),
$(c).show(),b=GibberishAES.dec(b,a),eval(b),""==$(d).val()&&$(d).val($("#"+a).attr("data-text")));"none"==$(c).css("display")&&$(c).show()}else $(d).val()!=$("#"+a).attr("data-text")&&((a=$("#"+a).attr("data-text"))&&a.length?$(d).val(a):$(d).val("")),$(c).hide()}
function GCBOSetValue(a,b,c,d){if($("#"+a).attr("disabled"))return!1;var e=!1,f=$("#"+a),g=$("#"+a+"-cbo");$(f).val();null==b&&(b=(b=$(f).attr("data-eval"))&&b.length?b:"",e=!0);$(f).val(b);$("#"+a+"-dropdown").attr("data-reload",1);$(g).val(c);$(g).attr("data-value",b);$(f).attr("data-text",c);$("#"+a+"-dropdown .gcbo-selector").each(function(a){1==$(this).val()&&$(this).val("0")});b&&""!=b&&$("#"+a+"-dropdown #"+a+"-"+b+".gcbo-selector").val("1");1==d||1==d?CBODDBtnClick(a):e&&$("#"+a+"-dropdown").hide();
(a=$("#"+a).attr("data-onchange"))&&0<a.length&&eval(a)}function TCBOSetValue(a,b,c,d,e){var f=$("#"+a).val();$("#"+a).val(b);var g=$("#"+a+"-cbo");$(g).val(c);$(g).attr("data-value",b);if($("#"+a).attr("disabled"))return!1;if(!0===e||1==e)$("#"+a+"-ctree").fancytree("getTree").reload();else if(!0===d||1==d)b=$("#"+a+"-ctree").fancytree("getTree").getNodeByKey(f),null!=b&&b.setSelected(!1);(a=$("#"+a).attr("data-onchange"))&&0<a.length&&eval(a)}
function InitTCBOFancyTree(a,b,c,d,e,f,g,l,k,q,h){if(a&&0!==a.length){var n=encodeURIComponent(b),p=nAppBaseUrl+"/aindex.php?namespace="+g,m="&module="+c+"&method="+d;q&&(m+="&hpc=1");if(l||0<l.length)m+="&uid="+l;e&&(m+=e);var r=function(){var a="";if("object"===typeof f)for(var b in f){var c=void 0;try{c=eval(f[b])}catch(t){console.log(t),console.log(f[b]),c=""}a+="&"+b+"="+c}else"string"===typeof f&&(a=f);p=1===k||!0===k?p+("&arhash="+encodeURIComponent(GibberishAES.enc(m+a+"&phash="+window.name,
"xJS"))):p+(m+a+"&phash="+window.name);return p+"&type=json&tree=1&val="+n};$("#"+a+"-ctree").fancytree({checkbox:!0,icon:h||!1,selectMode:1,clickFolderMode:1,debugLevel:0,source:function(){return{url:r(),cache:!1}},lazyLoad:function(a,b){a=r();b.result={url:a,data:{key:b.node.key}}},createNode:function(a,b){if(!b.node.data.hasSelectedChild)return!1;a=r();$.ajax({url:a,data:{key:b.node.key},dataType:"json",success:function(a){b.node.addChildren(a)}})},select:function(b,c){c.node.isSelected()?(TCBOSetValue(a,
c.node.key,c.node.title,!1),CBODDBtnClick(a)):TCBOSetValue(a,"","",!1)}})}}
function InitFancyTree(a,b,c,d,e,f,g,l,k,q){if(a&&0!==a.length){var h=nAppBaseUrl+"/aindex.php?namespace="+e;e="";k=k?"&hpc=1":"";if(f||0<f.length)e+="&uid="+f;f="";if("object"===typeof d)for(var n in d)f+="&"+n+"="+d[n];else"string"===typeof d&&(f=d);h=1===g||!0===g?h+("&arhash="+encodeURIComponent(GibberishAES.enc("module="+b+"&method="+c+f+k+e+"&phash="+window.name,"xJS"))):h+("&module="+b+"&method="+c+f+k+e+"&phash="+window.name);$("#"+a).fancytree({checkbox:l||!1,icon:q||!1,selectMode:1,clickFolderMode:1,
debugLevel:0,source:{url:h+"&type=json&tree=1"},lazyLoad:function(a,b){b.result={url:h+"&type=json&tree=1",data:{key:b.node.key}}},createNode:function(a,b){if(!b.node.data.hasSelectedChild)return!1;$.ajax({url:h+"&type=json&tree=1",data:{key:b.node.key},dataType:"json",success:function(a){b.node.addChildren(a)}})},click:function(a,b){$(this).trigger("fancyTree.onclick",b)},dblclick:function(a,b){$(this).trigger("fancyTree.ondblclick",b)},select:function(a,b){$(this).trigger("fancyTree.onselect",b)}})}}
$(document).on("keydown","input.clsGridComboBox[type=text]",function(a){if($("#"+$(this).attr("data-id")).attr("disabled"))return a.preventDefault(),!1;13===a.keyCode?(a=$(this).attr("data-id"),$("#"+a+"-dropdown").attr("data-reload",1),GCBODDBtnClick(a,1)):27===a.keyCode?(a.preventDefault(),GCBODDBtnClick($(this).attr("data-id"),0)):(a.altKey&&(40===a.keyCode||98===a.keyCode)||115===a.keyCode)&&GCBODDBtnClick($(this).attr("data-id"),null)});
$(document).on("keydown","input.clsTreeComboBox[type=text]",function(a){if($("#"+$(this).attr("data-id")).attr("disabled"))return a.preventDefault(),!1;13===a.keyCode||a.altKey&&(40===a.keyCode||98===a.keyCode)||115===a.keyCode?CBODDBtnClick($(this).attr("data-id")):27===a.keyCode&&(a.preventDefault(),$("#"+$(this).attr("data-id")+"-dropdown").hide())});
function SmartCBOInitialize(){$("select.SmartCBO").each(function(a,b){if(!$(b).hasClass("select2-hidden-accessible")){a=$(b).attr("id");var c=$(b).attr("data-smartcbo");a&&c&&(a=eval(GibberishAES.dec(decodeURIComponent(c),a)),$(b).select2(a))}})}function GetSmartCBOValue(a,b){if(!a)return null;var c=a;"object"!=typeof a&&(c=$("#"+a));if(!$(c).length)return null;a=$(c).val()||"";return Array.isArray(a)&&!0!==b&&1!=b?a=a.join(","):a}
function GetSmartCBOText(a,b){if(!a)return null;var c=a;"object"!=typeof a&&(c=$("#"+a));if(!$(c).length)return null;a=$(c).select2("data");if(!Array.isArray(a)||!0===b||1==b)return a;b="";for(c=0;c<a.length;c++)b+=(b.length?", ":"")+(a[c].name||a[c].text);return b}
function SetSmartCBOValue(a,b){if(!a)return!1;var c=a;"object"!==typeof a&&(c=$("#"+a));if(!$(c).length)return!1;"object"===typeof b?(a=new Option(b.id,b.name,!0,!0),$(c).append(a).trigger("change")):$(c).val(b).trigger("change");return!0}function GetSelect2Val(a,b){if(a){var c=a;"object"!==typeof a&&(c=$("#"+a));a=$(c).val()||"";!0!==b&&1!==b&&"object"===typeof a&&(a=a.join(","));return a}}$(document).on("click","div.MainKVL > .KVLAddBtn",function(a){KVLAddElement(this)});
$(document).on("click","div.MainKVL > ul.KVLList > li > .KVLIDelBtn",function(a){KVLRemoveElement(this)});$(document).on("keydown","div.MainKVL > input[type=text].KVLNewKey",function(a){13==a.keyCode&&KVLAddElement(this)});
function KVLAddElement(a){a=$(a).parent();var b=$(a).children("input[type=text].KVLNewKey").first(),c=b.val(),d=b.data("name");d||(d=$(a).attr("name"));c&&c.length&&($(a).find("ul.KVLList span.KVLBlank").addClass("hidden"),$(a).children("ul.KVLList").first().append('<li><label class="KVLILabel">'+c+'</label><input type="text" class="KVLIValue postable" name="'+d+"["+c+']" placeholder="[value]" value=""><button class="KVLIDelBtn"><i class="fa fa-minus-circle"></i></button></li>'),$(b).val(""))}
function KVLRemoveElement(a){if(a=$(a).parent()){var b=$(a).parent();$(a).remove();b&&1>=$(b).find("li").length&&$(b).find("span.KVLBlank").removeClass("hidden")}}function BindShortcuts(a,b){$(document).on("keypress",function(c){13==c.keyCode&&0==$("input:focus[type=text],textarea:focus").length?$("#"+a).click():27==c.keyCode&&(c.preventDefault(),$("#"+b).click())})}$(document).on("keydown",".clsOnEnterAction",function(a){13==a.keyCode&&(a=$(this).attr("data-onenter"))&&eval(a)});
$(document).on("keydown",".clsOnEnterActionButton",function(a){13==a.keyCode&&(a=$(this).attr("data-onenterbtn"))&&($(this).trigger("focusout"),$("#"+a).click())});function AddClassOnErrorByParent(a,b,c){c=c?c:"clsFieldError";b?$("#"+a+" .clsRequiredField").removeClass(c):$("#"+a+" .clsRequiredField").addClass(c)}function AddClassOnError(a,b,c){c=c?c:"clsFieldError";b?$("#"+a).removeClass(c):$("#"+a).addClass(c)}
function CheckIfEnter(a){a&&a.which?a=a.which:(a=event,a=a.keyCode);return 13==a?!0:!1}$(document).on("keydown",".clsSetNoNumericValidation",function(a){var b=a.which||a.keyCode||a.charCode||0;(48<=b&&57>=b||96<=b&&105>=b)&&a.preventDefault()});
$(document).on("keydown",".clsSetNumericValidation",function(a){var b=a.which||a.keyCode||a.charCode||0;if(!(a.ctrlKey||a.altKey||-1!==$.inArray(b,[0,8,9,13,16,27,33,34,35,36,37,38,39,40,45,46])||!a.shiftKey&&96<=b&&105>=b||!a.shiftKey&&48<=b&&57>=b||!a.shiftKey&&(189==b||109==b)&&0==this.selectionStart&&2>this.value.split("-").length)){var c=$(this).attr("data-format"),d=!1;c&&(c=c.split("|"),0!==c[0]&&(d=c[1]));(a.shiftKey||188!=b||","!=d||-1!=this.value.indexOf(d))&&(a.shiftKey||190!=b&&110!=b||
"."!=d||-1!=this.value.indexOf(d))&&a.preventDefault()}});$(document).on("keydown",".clsSetPhoneValidation",function(a){var b=a.which||a.keyCode||a.charCode||0;a.ctrlKey||a.altKey||-1!==$.inArray(b,[0,8,9,13,16,27,32,33,34,35,36,37,38,39,40,45,46])||!a.shiftKey&&$.inArray(b,!0)||!a.shiftKey&&96<=b&&105>=b||!a.shiftKey&&48<=b&&57>=b||!a.shiftKey&&107==b||a.shiftKey&&187==b&&0==this.selectionStart&&2>this.value.split("+").length||a.preventDefault()});
$(document).on("focusout",".clsSetUcFirst",function(a){a=$(this).val().ucfirst(!1);$(this).val(a)});$(document).on("focusout",".clsSetUcFirstAll",function(a){a=$(this).val().ucfirst(!0);$(this).val(a)});function AnimatedHide(a,b,c){0<$("#"+a).length&&(c=c?c:600,1==b?$("#"+a).hide(c):$("#"+a).show(c))}
function AnimatedHideWithSave(a,b,c){0<$("#"+a).length&&(c=c?c:600,1===$("#"+b).val()?$("#"+a).hide(c):$("#"+a).show(c),"undefined"!==typeof Storage?localStorage.setItem(b,$("#"+b).val()+"|"+a):(c=new Date,c.setMonth(c.getMonth()+6),document.cookie=b+"="+$("#"+b).val()+"|"+a+"; expires="+c.toGMTString()+"; path=/; domain="+location.host+";"))}
function CreateCkEditor(a,b,c,d,e,f){if(c)for(b=b.split(","),c=0;c<b.length;c++)CreateCkEditor(a,b[c],!1,d,e,f);else if(b&&0!==b.length){a=window.ckei_list;if(void 0===a||null===a||"object"!=typeof a)a=[];d="object"==typeof d?d:{};e&&(d.width=e);f&&(d.height=f);CKEDITOR.instances[b]&&CKEDITOR.instances[b].destroy(!0);CKEDITOR.replace(b,d);-1===$.inArray(b,a)&&a.push(b);window.ckei_list=a}}
function DestroyCkEditors(a,b){if(b&&0!==b.length&&(a=$("#"+b))){var c=window.ckei_list;if(void 0!==c&&null!==c&&"object"==typeof c&&0!==c.length){b=[];for(var d={$jscomp$loop$prop$i$5:0};d.$jscomp$loop$prop$i$5<c.length;d={$jscomp$loop$prop$i$5:d.$jscomp$loop$prop$i$5,$jscomp$loop$prop$dropped$6:d.$jscomp$loop$prop$dropped$6},d.$jscomp$loop$prop$i$5++)d.$jscomp$loop$prop$dropped$6=!1,a.find("#"+c[d.$jscomp$loop$prop$i$5]).each(function(a){return function(){var b=CKEDITOR.instances[c[a.$jscomp$loop$prop$i$5]];
b&&b.destroy(!0);a.$jscomp$loop$prop$dropped$6=!0}}(d)),d.$jscomp$loop$prop$dropped$6||b.push(c[d.$jscomp$loop$prop$i$5]);window.ckei_list=b}}}
function DestroyCkEditor(a,b,c){if(b)if(c)for(b=b.split(","),c=0;c<b.length;c++)DestroyCkEditor(a,b[c],!1);else a=window.ckei_list,(c=CKEDITOR.instances[b])&&c.destroy(!0),void 0!==a&&null!==a&&"object"==typeof a&&-1!==$.inArray(b,a)&&(a.splice(a.indexOf(b),1),window.ckei_list=a);else if(a=window.ckei_list,void 0!==a&&null!==a&&"object"==typeof a&&0!==a.length){for(b=0;b<a.length;b++)(c=CKEDITOR.instances[a[b]])&&c.destroy(!0);window.ckei_list=[]}}
function GetCkEditorData(a){"object"===typeof a&&(a=a.getAttribute("id"));return(a=CKEDITOR.instances[a])?a.getData():""}
function CreateFileUploader(a,b){if(1===b)a?$("#"+a+" .clsFileUploader").each(function(a){CreateFileUploader(this,0)}):$(".clsFileUploader").each(function(a){CreateFileUploader(this,0)});else if(a){var c=null;c="object"===typeof a?$(a):$("#"+a);a=!1;$(c).parent().hasClass("clsDropArea")&&($(document).on("drop dragover",function(a){a.preventDefault()}),a=$(c).parent());$(c).fileupload({dataType:"json",dropZone:a,formData:[{name:"targetdir",value:$(c).attr("data-targetdir")},{name:"subfolder",value:$(c).attr("data-subfolder")}],
start:function(a){(a=$(c).attr("data-statusid"))&&$("#"+a).length&&$("#"+a).css("display","")},done:function(a,b){(a=$(c).attr("data-statusid"))&&$("#"+a).length&&$("#"+a).css("display","none");if(b.result.files[0].error&&""!==b.result.files[0].error)ShowErrorDialog("Upload failed: "+b.result.files[0].error);else if(a=$(c).attr("data-callback"))a=GibberishAES.dec(decodeURIComponent(a),"HTML"),a instanceof Function?a(b.files[0].name,this):(a=a.replace("&amp;namespace=","&namespace="),a=a.replaceAll("#uploadedfile#",
b.files[0].name),eval(a))},fail:function(a,b){ShowErrorDialog("Upload failed: "+b.errorThrown+" (Status: "+b.textStatus+")")}})}else return!1}function TreeGridViewAction(a,b,c,d,e){e||(e=b);0!=d&&1!=d&&(d=1==$(a).val()?0:1);e==b&&$(a).val(d);$("table#"+c+" > tbody > tr.clsTreeGridChildOf"+b).each(function(){1==d?$(this).show():$(this).hide();a=$(this).find("input.clsTreeGridBtn").first();"object"==typeof a&&(b=$(this).attr("data-id"))&&TreeGridViewAction(a,b,c,1==d?$(a).val():0,e)})}
function RepeatControl(a,b){if(!a||!b)return!1;a=$(a);var c=a.parent().find("[data-tid='"+b+"']").last();if(0>=c.length)return!1;var d=Number(c.attr("data-ti"));b=b+"-"+(d+1);c=c.clone();c.hasClass("clsSubForm")&&c.find(".postable").each(function(){var a=$(this).attr("id");a&&(a=a.substring(0,a.lastIndexOf("-"))+"-"+(d+1),$(this).attr("id",a),$(this).val(""))});c.attr("data-ti",d+1);c.attr("id",b);c.val("");c.addClass("ctrl-clone");c.insertBefore(a);c=a.attr("data-ract");var e=a.attr("data-ract-class");
$('<button class="'+(e?e:"clsRepeatableCtrlBtn remove-ctrl-btn")+'" onclick="RemoveRepeatableControl(this,\''+b+'\')"><i class="fa fa-minus-circle" aria-hidden="true"></i>'+(c?c:"")+"</button>").insertBefore(a)}function RemoveRepeatableControl(a,b){if(!b)return!1;$("#"+b).remove();$(a).remove()};
